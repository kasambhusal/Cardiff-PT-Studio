---
import { Image } from "astro:assets";
import { FaRegClock } from "react-icons/fa6";
import { FiUser, FiCoffee } from "react-icons/fi";
import { IoHome } from "react-icons/io5";
import whyus1 from "../images/whyus-1.jpg";
import whyus2 from "../images/whyus-2.jpg";
import whyus3 from "../images/whyus-3.jpg";
import Button from "../../components/Button";

const faqData = [
  {
    id: "facilities",
    icon: IoHome,
    question: "World-Class Facilities",
    answer: "Our fully equipped gym is dedicated to personal training and coaching. With treadmills, power racks, and a 25m AstroTurf lane, we provide everything needed to win.",
  },
  {
    id: "coaches",
    icon: FiUser,
    question: "Expert Coaching",
    answer: "Our team brings over 20 years of experience. We create tailored programmes whether your goal is weight loss, muscle gain, or overall fitness.",
  },
  {
    id: "consultation",
    icon: FiCoffee,
    question: "Free Consultation",
    answer: "Start with a no-strings-attached talk. We design a wellness journey including nutrition guidance and adaptive training to help you succeed.",
  },
  {
    id: "time",
    icon: FaRegClock,
    question: "Flexible Plans",
    answer: "Designed to fit your lifestyle. Most clients train 2â€“3 times per week, ensuring sustainable progress without overwhelming your career.",
  },
];
---

<section id="why-us" class="py-20 bg-white overflow-hidden" x-data="{ openItem: null }">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    
    <div class="mb-16 text-center lg:text-left">
      <h2 class="text-5xl md:text-7xl font-black text-[#44444C] uppercase italic leading-none tracking-tighter">
        Why <span class="text-[var(--primary-blue)]">Join</span> Us?
      </h2>
    </div>

    <div class="grid lg:grid-cols-2 gap-16 items-center">
      
      <div class="relative">
        <div class="absolute -top-4 -left-4 w-24 h-24 bg-blue-600 -z-10 opacity-20"></div>
        <div class="space-y-6">
          <div class="rounded-none overflow-hidden shadow-2xl border-l-8 border-blue-600">
            <Image src={whyus1} alt="Gym" class="w-full h-80 object-cover" />
          </div>
          <div class="grid grid-cols-2 gap-6">
            <div class="rounded-none overflow-hidden shadow-lg">
              <Image src={whyus2} alt="Weights" class="w-full h-40 object-cover" />
            </div>
            <div class="rounded-none overflow-hidden shadow-lg">
              <Image src={whyus3} alt="Coaching" class="w-full h-40 object-cover" />
            </div>
          </div>
        </div>
      </div>

      <div class="flex flex-col h-full">
        <div class="space-y-3 flex-grow">
          {faqData.map((item) => (
            <div 
              class="border-b border-gray-100 transition-all duration-300"
              x-data={`{ id: '${item.id}' }`}
            >
              <button
                @click="openItem = (openItem === id ? null : id)"
                class="w-full py-6 flex items-center justify-between text-left group cursor-pointer"
              >
                <div class="flex items-center gap-5">
                  <span class="text-xl font-black text-[#44444C] group-hover:text-[var(--primary-blue)] transition-colors uppercase italic">
                    {item.question}
                  </span>
                </div>
                <span 
                  class="text-2xl font-light text-gray-400 transform transition-transform duration-300"
                  :class="openItem === id ? 'rotate-45 text-[var(--primary-blue)]' : ''"
                >
                  +
                </span>
              </button>

              <div
                x-show="openItem === id"
                x-collapse
                x-cloak
                class="overflow-hidden"
              >
                <p class="pb-6 text-gray-600 leading-relaxed text-lg max-w-md">
                  {item.answer}
                </p>
              </div>
            </div>
          ))}
        </div>

        <div class="mt-12 pt-4">
          <Button client:visible text="Grab Your Seat Now" className="w-full md:w-auto" />
        </div>
      </div>
      
    </div>
  </div>
</section>

<script src="https://unpkg.com/@alpinejs/collapse@3.x.x/dist/cdn.min.js" defer></script>
<script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

<style>
  [x-cloak] { display: none !important; }
</style>