---
import { Image } from 'astro:assets';
import community1 from '../images/community-1.jpg';
import community2 from '../images/community-2.jpeg';
import community3 from '../images/community-3.jpeg';
import Button from '../../components/Button';
---

<section
  id="join-us"
  class="relative overflow-hidden bg-[var(--primary-blue)] px-6 py-24 text-white"
>
  <div class="absolute inset-0 opacity-10 pointer-events-none">
    <div class="absolute inset-0" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 20px, rgba(0,0,0,0.2) 20px, rgba(0,0,0,0.2) 21px);"></div>
  </div>

  <div class="absolute -bottom-10 -left-10 text-[15rem] font-black italic text-white opacity-5 select-none leading-none">
    TEAM
  </div>

  <div class="relative mx-auto max-w-7xl">
    <div class="grid grid-cols-1 items-center gap-16 lg:grid-cols-2">
      
      <div class="text-center lg:text-left z-10">
        <h2 class="mb-6 text-5xl md:text-7xl font-black uppercase italic leading-none tracking-tighter">
          More Than Just <br/> <span class="text-[var(--primary-black)]">A Workout.</span>
        </h2>

        <p class="mb-10 max-w-lg text-lg font-medium leading-relaxed text-blue-50 opacity-90 italic">
          Join a supportive group where professional coaches actually listen. 
          We don't just give you a plan; we provide the <span class="text-[var(--primary-black)] font-black">COMMUNITY</span> 
          and accountability you need to finally smash your fitness ambitions.
        </p>

        <div class="flex justify-center lg:justify-start">
          <Button client:visible text="Join Our Community Now" variant="long" />
        </div>
      </div>

      <div class="relative flex justify-center items-center h-[400px] md:h-[500px]">
        
        <div class="absolute z-10 w-48 h-64 md:w-64 md:h-80 -rotate-12 -translate-x-16 -translate-y-8 shadow-2xl border-4 border-white overflow-hidden">
          <Image src={community1} alt="Training" class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500" />
        </div>

        <div class="absolute z-20 w-56 h-72 md:w-72 md:h-96 rotate-6 translate-x-12 translate-y-4 shadow-2xl border-4 border-white overflow-hidden">
          <Image src={community2} alt="Community" class="w-full h-full object-cover" />
        </div>

        <div class="absolute z-30 w-40 h-40 md:w-56 md:h-56 -rotate-6 -translate-x-24 translate-y-24 shadow-2xl border-8 border-[var(--primary-blue)] overflow-hidden">
          <Image src={community3} alt="Coach" class="w-full h-full object-cover" />
        </div>

      </div>
    </div>
  </div>
</section>

<style>
  /* Ensuring the section feels like it has depth */
  section {
    perspective: 1000px;
  }
</style>